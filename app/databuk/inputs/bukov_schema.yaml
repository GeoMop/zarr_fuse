# Configuration of the ZARR-FUSE storage
ATTRS:
    store_url: "surface.zarr"
    store_type: 'local'                 # 'guess' type is default
    location_file: &loc_file bukov_locations.csv
    grid_min: [50.840000,14.850000]    # unit deg
    grid_max: [50.8400000,14.8500000]  # unit deg
    grid_step: [1e-2,1e-2 ]             # unit deg; about 1000m; approximately resolution of the yr.no service



bukov:
    VARS:
        temperature:
            unit: "degC"
            description: "Temperature in degree of Celsius"
            df_col: "temperature"
            coords: [ "date_time", "borehole", "depth" ]
#
#        0_5m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "0.5m"
#            coords: [ "date_time", "lat_lon" ]
#
#        1_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "1m"
#            coords: [ "date_time", "lat_lon" ]
#
#        2_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "2m"
#            coords: [ "date_time", "lat_lon" ]
#
#        3_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "3m"
#            coords: [ "date_time", "lat_lon" ]
#
#        4_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "4m"
#            coords: [ "date_time", "lat_lon" ]
#
#        6_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "6m"
#            coords: [ "date_time", "lat_lon" ]
#
#        8_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "8m"
#            coords: [ "date_time", "lat_lon" ]
#
#        10_0m:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "10m"
#            coords: [ "date_time", "lat_lon" ]
#
#        15_mA:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "15mA"
#            coords: [ "date_time", "lat_lon" ]
#
#        15_mB:
#            unit: "C"
#            description: "Temperature in Kelvin"
#            df_col: "15mB"
#            coords: [ "date_time", "lat_lon" ]

        rezerva:
            unit: "degC"
            description: "Unused temperature sensor"
            df_col: "rezerva"
            coords: [ "date_time", "borehole" ]

        RVT13:
            unit: ""
            description: "Air relative humidity at the borehole head."
            df_col: "RVT13"
            coords: [ "date_time", "borehole" ]

        RVT13-T-Vzduch:
            unit: "C"
            description: "Air temperature at the borehole head."
            df_col: "RVT13-T-Vzduch"
            coords: [ "date_time", "borehole" ]

#        grid_domain:
#            unit: "bool"
#            description: "Is the (longitude, latitude) point part of grid domain or measured points?"
#            coords: "lat_lon"

        longitude:
            unit: "deg"
            description: "Signed Earth longitude."
            coords: "borehole"


        latitude:
            unit: "deg"
            description: "Signed Earth longitude."
            coords: "borehole"
            # df_col = <var's name is default source data frame column>
            # coords = <var's name is self coordinated variable>

        real_depth:
            unit: "m"
            description: "Real depth of the measurement in the borehole."
            coords: "borehole"


        # Coordinates ####################################
        date_time:
            description: "Time coordinate, UTC time zone, 15 min resolution"
            unit: { tick: "h", tz: "UTC" }
            source_unit: { tick: "h", tz: "UTC" }

        borehole:
            description: "Official borehole name within Bukov II laboratory."
            unit: "str"

        depth:
            description: "Nominal depth of the measurement in the borehole."
            unit: "m"
            coords: "borehole"  # This is a composed coordinate, so it is not sorted.


    COORDS:
        date_time: # Defines coord from the variable of the same name.
            chunk_size: 1024
            merge: # configuration of merging existing and new coordinates and transfer (interpolation) of the data arrays
                #allow_inserts: False  # This is currently only supported and default value.
                #sorted: None  # Automatic, sort coord by itself for non-composed coordinates.
                step_limits: [ 1, 1, "h" ]
                # None - no limits add all new coordinates out of existing range.
                # scalar - regular grid with this step size (use units to convert string values
                # [min, max] - regular grid with this step size (TODO)

        borehole:
            # Secondary description valid for composed coordinates.
            chunk_size: 1
            sorted: False
            # values: []




    ATTRS:
        description:
            "bukov / temperature data series."
        update:
            FN: yr_no_update
            module: weather_scrapper
            url: https://api.met.no/weatherapi/locationforecast/2.0/complete
            html_cache: False
            locations:
              FN: location_df
              #module: "."   # default relative to calling function module
              attrs_dict: *loc_file     #!Ref .ATTRS    # Helm style variable interpolation.
#meteosat:
